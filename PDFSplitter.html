<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Split PDF files by page range, view pages and size. Free and online." />
  <meta name="keywords" content="pdf splitter, split pdf, extract pdf pages, pdf editor online" />
  <meta name="author" content="Tech_Gen" />
  <title>PDF Splitter | Tech_Gen Tools</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background: linear-gradient(to right, #667eea, #764ba2);
      color: white;
      text-align: center;
      padding: 2rem;
    }
    .container {
      max-width: 900px;
      margin: 2rem auto;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    input, button {
      padding: 0.7rem;
      margin: 0.5rem 0;
      width: 100%;
      font-size: 1rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #667eea;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #5a67d8;
    }
    .preview {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 1rem;
      justify-content: center;
    }
    .page-box {
      border: 1px solid #ccc;
      padding: 5px;
      border-radius: 8px;
      background: #fafafa;
      text-align: center;
    }
    canvas {
      width: 100px;
      height: auto;
      display: block;
      margin: auto;
    }
    .ad-section {
      margin: 3rem 0;
      text-align: center;
    }
    footer {
      background: #333;
      color: white;
      padding: 1rem;
      text-align: center;
    }
  </style>
</head>
<body>

<header>
  <h1>PDF Splitter</h1>
  <p>Split specific pages from a PDF easily</p>
</header>

<div class="container">
  <input type="file" id="pdf-upload" accept="application/pdf" />
  <input type="text" id="range" placeholder="Enter page range (e.g. 1-3,5)" />
  <button onclick="splitPDF()">Split PDF</button>
  <div class="preview" id="preview"></div>
</div>

<div class="ad-section">
  <!-- Google AdSense Placeholder -->
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-app-pub-2273117553145364/5191897711"
       data-ad-slot="1234567890"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

<footer>
  &copy; 2025 Tech_Gen Tools. All rights reserved.
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/pdf-lib/dist/pdf-lib.min.js"></script>
<script>
  let originalPdfBytes = null;
  let pdfDoc = null;

  document.getElementById("pdf-upload").addEventListener("change", async function(e) {
    const file = e.target.files[0];
    if (!file || file.type !== "application/pdf") return alert("Please upload a PDF.");

    const arrayBuffer = await file.arrayBuffer();
    originalPdfBytes = arrayBuffer;

    const loadingTask = pdfjsLib.getDocument({ data: arrayBuffer });
    pdfDoc = await loadingTask.promise;

    const preview = document.getElementById("preview");
    preview.innerHTML = '';

    for (let i = 1; i <= pdfDoc.numPages; i++) {
      const page = await pdfDoc.getPage(i);
      const viewport = page.getViewport({ scale: 0.5 });
      const canvas = document.createElement("canvas");
      canvas.width = viewport.width;
      canvas.height = viewport.height;

      const context = canvas.getContext("2d");
      await page.render({ canvasContext: context, viewport }).promise;

      const div = document.createElement("div");
      div.className = "page-box";
      div.innerHTML = `<strong>Page ${i}</strong>`;
      div.appendChild(canvas);
      preview.appendChild(div);
    }
  });

  function parseRange(rangeStr, maxPages) {
    const ranges = rangeStr.split(",");
    const pages = new Set();

    for (let r of ranges) {
      if (r.includes("-")) {
        const [start, end] = r.split("-").map(Number);
        for (let i = start; i <= end && i <= maxPages; i++) pages.add(i);
      } else {
        const page = Number(r);
        if (page >= 1 && page <= maxPages) pages.add(page);
      }
    }

    return Array.from(pages).sort((a, b) => a - b);
  }

  async function splitPDF() {
    const rangeStr = document.getElementById("range").value.trim();
    if (!rangeStr) return alert("Enter a page range.");

    const selectedPages = parseRange(rangeStr, pdfDoc.numPages);
    if (!selectedPages.length) return alert("No valid pages selected.");

    const pdfLibDoc = await PDFLib.PDFDocument.load(originalPdfBytes);
    const newPdf = await PDFLib.PDFDocument.create();
    const copiedPages = await newPdf.copyPages(pdfLibDoc, selectedPages.map(p => p - 1));
    copiedPages.forEach(p => newPdf.addPage(p));
    const newBytes = await newPdf.save();

    const blob = new Blob([newBytes], { type: 'application/pdf' });
    const link = document.createElement("a");
    link.href = URL.createObjectURL(blob);
    link.download = "split.pdf";
    link.click();
  }
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</body>
</html>
